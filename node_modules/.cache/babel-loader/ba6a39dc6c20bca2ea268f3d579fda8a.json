{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Desktop\\\\DOAN1\\\\src\\\\components\\\\Pos\\\\Confirm.js\";\nimport React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport * as Feature from './../../actions/pos/feature';\nimport * as actionPos from '../../actions/pos';\nimport ReactToPrint from \"react-to-print\";\nimport Printdata from './Printdata'; ///////////\n\nclass Confirm extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.PaymentPos = () => {\n      var newCustomer = { ...this.props.confirm.show_customer\n      };\n\n      if (typeof newCustomer.IdCustomer != 'undefined') {\n        newCustomer.Avatar = null;\n      }\n\n      this.props.payment({\n        id: this.props.confirm.idbill_default,\n        table: this.props.confirm.show_table,\n        customer: newCustomer,\n        menu: this.props.confirm.show_list_table,\n        totalprice: this.props.confirm.payment_total,\n        IdUser: this.props.user.id_staff,\n        confirm: this.props.confirm.confirm\n      });\n    };\n\n    this.deleteMenu = (data, list) => {\n      this.props.delete_Menu(data, list);\n    };\n\n    this.afterPrint = () => {\n      var newProps = { ...this.props.confirm.confirm\n      };\n      newProps.display = 'none';\n      newProps.type = null;\n      this.props.fea_payment({\n        type: {\n          confirm_pos: {\n            type: 'CONFIRM_POS',\n            data: newProps\n          },\n          tab_pos_controll: {\n            type: 'TAB_POS_CONTROLL',\n            data: 'table'\n          },\n          show_customer_pos: {\n            type: 'SHOW_CUSTOMER_POS',\n            data: [{}]\n          },\n          feature_appendmenu: {\n            type: 'FEATURE_APPENDMENU',\n            data: []\n          },\n          payment_total: {\n            type: 'PAYMENT_TOTAL',\n            data: 0\n          },\n          show_table_pos: {\n            type: 'SHOW_TABLE_POS',\n            data: {}\n          },\n          guest_money: {\n            type: 'GUEST_MONEY',\n            data: 0\n          },\n          extra_money: {\n            type: 'EXTRA_MONEY',\n            data: 0\n          },\n          idbill_default_pos: {\n            type: 'IDBILL_POS_DEFAULT',\n            data: null\n          },\n          tabbackgroundM_pos_controll: {\n            type: 'TABBACKGROUND_M_POS_CONTROLL',\n            data: {\n              backgroundColor: ''\n            }\n          },\n          tabbackgroundT_pos_controll: {\n            type: 'TABBACKGROUND_T_POS_CONTROLL',\n            data: {\n              backgroundColor: '#eb9898'\n            }\n          }\n        }\n      });\n    };\n\n    this.btnPrint = () => {\n      if (this.props.confirm.confirm.type == 'print') {\n        console.log('la print');\n        return /*#__PURE__*/React.createElement(Fragment, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(ReactToPrint, {\n          trigger: () => /*#__PURE__*/React.createElement(\"button\", {\n            //   onClick = {()=>{\n            //     this.insertbill()\n            // }}\n            type: \"button\",\n            class: \"btn btn-danger\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 28\n            }\n          }, this.props.confirm.confirm.btnRight),\n          content: () => this.refs.componentRef,\n          onBeforeGetContent: () => {\n            this.PaymentPos();\n          },\n          onAfterPrint: () => {\n            this.afterPrint();\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 11\n          }\n        }), /*#__PURE__*/React.createElement(\"div\", {\n          style: {\n            display: 'none'\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(Printdata, {\n          feature: this.props.confirm,\n          customer: this.props.user,\n          ref: \"componentRef\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 11\n          }\n        })));\n      }\n\n      return /*#__PURE__*/React.createElement(\"button\", {\n        onClick: () => {\n          this.insertbill();\n        },\n        type: \"button\",\n        class: \"btn btn-danger\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 7\n        }\n      }, this.props.confirm.confirm.btnRight);\n    };\n\n    this.insertbill = () => {\n      if (this.props.confirm.idbill_default != null) {\n        var newCustomer = { ...this.props.confirm.show_customer\n        };\n\n        if (typeof newCustomer.IdCustomer != 'undefined') {\n          newCustomer.Avatar = null;\n        }\n\n        this.props.insertBill({\n          id: this.props.confirm.idbill_default,\n          table: this.props.confirm.show_table,\n          customer: newCustomer,\n          menu: this.props.confirm.show_list_table,\n          totalprice: this.props.confirm.payment_total,\n          IdUser: this.props.user.id_staff,\n          confirm: this.props.confirm.confirm\n        });\n        return;\n      }\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        backgroundColor: 'rgba(38, 37, 37, 0.5)',\n        opacity: '1',\n        display: this.props.confirm.confirm.display\n      },\n      id: \"myModal\",\n      class: \"modal fade\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"modal-dialog modal-confirm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginTop: '50%'\n      },\n      class: \"modal-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"modal-header flex-column\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"icon-box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      class: this.props.confirm.confirm.icon,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"h4\", {\n      class: \"modal-title w-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 21\n      }\n    }, this.props.confirm.confirm.title), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      class: \"close\",\n      \"data-dismiss\": \"modal\",\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 21\n      }\n    }, \"\\xD7\")), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"modal-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 21\n      }\n    }, this.props.confirm.confirm.content)), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"modal-footer justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => {\n        var newProps = { ...this.props.confirm.confirm\n        };\n        newProps.display = 'none';\n        this.props.confirmFunc({\n          type: {\n            confirm_pos: {\n              type: 'CONFIRM_POS',\n              data: newProps\n            }\n          }\n        });\n      },\n      type: \"button\",\n      class: \"btn btn-secondary\",\n      \"data-dismiss\": \"modal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 21\n      }\n    }, this.props.confirm.confirm.btnLeft), this.btnPrint()))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    confirm: state.pos,\n    user: state.user\n  };\n};\n\nconst mapDispatchToProps = (dispatch, props) => {\n  return {\n    delete_Menu: (data, list) => {\n      dispatch(actionPos.deleteMenu(data, list));\n    },\n    confirmFunc: action => {\n      dispatch(action);\n    },\n    insertBill: data => {\n      dispatch(actionPos.insertBillrequest(data));\n    },\n    payment: data => {\n      dispatch(actionPos.paymentPosRequest(data));\n    },\n    fea_payment: action => {\n      dispatch(action);\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Confirm);","map":{"version":3,"sources":["C:/Users/DELL/Desktop/DOAN1/src/components/Pos/Confirm.js"],"names":["React","Component","Fragment","connect","Feature","actionPos","ReactToPrint","Printdata","Confirm","PaymentPos","newCustomer","props","confirm","show_customer","IdCustomer","Avatar","payment","id","idbill_default","table","show_table","customer","menu","show_list_table","totalprice","payment_total","IdUser","user","id_staff","deleteMenu","data","list","delete_Menu","afterPrint","newProps","display","type","fea_payment","confirm_pos","tab_pos_controll","show_customer_pos","feature_appendmenu","show_table_pos","guest_money","extra_money","idbill_default_pos","tabbackgroundM_pos_controll","backgroundColor","tabbackgroundT_pos_controll","btnPrint","console","log","btnRight","refs","componentRef","insertbill","insertBill","render","opacity","marginTop","icon","title","content","confirmFunc","btnLeft","mapStateToProps","state","pos","mapDispatchToProps","dispatch","action","insertBillrequest","paymentPosRequest"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react';\r\nimport {connect} from 'react-redux';\r\nimport * as Feature from './../../actions/pos/feature'\r\nimport * as actionPos from '../../actions/pos';\r\nimport ReactToPrint from \"react-to-print\";\r\n\r\nimport Printdata from './Printdata'\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n///////////\r\nclass Confirm extends Component {\r\n  \r\n\r\n\r\n  PaymentPos = () =>{\r\n    var newCustomer = {...this.props.confirm.show_customer};\r\n     \r\n      if(typeof newCustomer.IdCustomer != 'undefined')\r\n      {\r\n        newCustomer.Avatar = null;\r\n\r\n      }\r\n    this.props.payment({\r\n\r\n      id : this.props.confirm.idbill_default,\r\n      table : this.props.confirm.show_table,\r\n      customer : newCustomer,\r\n      menu : this.props.confirm.show_list_table,\r\n      totalprice : this.props.confirm.payment_total,\r\n      IdUser : this.props.user.id_staff,\r\n      confirm : this.props.confirm.confirm\r\n  })\r\n}\r\n\r\n  deleteMenu = (data,list) =>{\r\n    this.props.delete_Menu(data, list)\r\n  }\r\n  afterPrint = () =>{\r\n    var newProps = {...this.props.confirm.confirm};\r\n    newProps.display = 'none';\r\n    newProps.type = null;\r\n\r\n\r\n   this.props. fea_payment({\r\n    type : {\r\n      confirm_pos : {\r\n        type: 'CONFIRM_POS',\r\n        data : newProps\r\n      },\r\n      tab_pos_controll : {\r\n          type : 'TAB_POS_CONTROLL',\r\n          data : 'table',\r\n            }, \r\n           \r\n            show_customer_pos : {\r\n              type : 'SHOW_CUSTOMER_POS',\r\n              data : [{}],\r\n            },\r\n            feature_appendmenu : {\r\n                type : 'FEATURE_APPENDMENU',\r\n                data :  []\r\n            },\r\n            payment_total : {\r\n              type : 'PAYMENT_TOTAL',\r\n              data :  0\r\n            },\r\n            show_table_pos : {\r\n                type : 'SHOW_TABLE_POS',\r\n                data : {}\r\n            },\r\n            guest_money : {\r\n              type : 'GUEST_MONEY',\r\n              data : 0\r\n            },\r\n            extra_money : {\r\n              type : 'EXTRA_MONEY',\r\n              data : 0 \r\n            },\r\n            \r\n              idbill_default_pos : {\r\n                  type : 'IDBILL_POS_DEFAULT',\r\n                  data : null\r\n              },\r\n          tabbackgroundM_pos_controll : {\r\n                  type : 'TABBACKGROUND_M_POS_CONTROLL',\r\n              data : {\r\n                  backgroundColor :''\r\n                 },\r\n                },\r\n                tabbackgroundT_pos_controll : {\r\n                  type : 'TABBACKGROUND_T_POS_CONTROLL',\r\n              data : {\r\n                  backgroundColor : '#eb9898'\r\n                 },\r\n                }\r\n           \r\n          }\r\n   })\r\n  }\r\n  btnPrint = () =>{\r\n    if(this.props.confirm.confirm.type == 'print')\r\n    {\r\n      console.log('la print');\r\n      return (\r\n        <Fragment>\r\n  \r\n          <ReactToPrint\r\n            trigger={() => <button \r\n            //   onClick = {()=>{\r\n            //     this.insertbill()\r\n            // }}\r\n               type=\"button\" class=\"btn btn-danger\">{this.props.confirm.confirm.btnRight}</button>\r\n         }\r\n            content={() => this.refs.componentRef}\r\n            onBeforeGetContent = {()=>{this.PaymentPos()}}\r\n            onAfterPrint = {()=>{this.afterPrint()}}\r\n          />\r\n          <div style = {{display : 'none'}}>\r\n          <Printdata \r\n          feature = {this.props.confirm}\r\n          customer = {this.props.user}\r\n          ref=\"componentRef\" />\r\n          </div>\r\n         \r\n          </Fragment>      );\r\n    }\r\n    return(\r\n      <button \r\n      onClick = {()=>{\r\n        this.insertbill()\r\n    }}\r\n       type=\"button\" class=\"btn btn-danger\">{this.props.confirm.confirm.btnRight}</button>\r\n    )\r\n  }\r\n \r\n  insertbill = () =>{\r\n     \r\n    if(this.props.confirm.idbill_default != null)\r\n    {\r\n      var newCustomer = {...this.props.confirm.show_customer};\r\n     \r\n      if(typeof newCustomer.IdCustomer != 'undefined')\r\n      {\r\n        newCustomer.Avatar = null;\r\n\r\n      }\r\n      \r\n     \r\n      this.props.insertBill({\r\n\r\n          id : this.props.confirm.idbill_default,\r\n          table : this.props.confirm.show_table,\r\n          customer : newCustomer,\r\n          menu : this.props.confirm.show_list_table,\r\n          totalprice : this.props.confirm.payment_total,\r\n          IdUser : this.props.user.id_staff,\r\n          confirm : this.props.confirm.confirm\r\n      })\r\n       return;\r\n    }\r\n\r\n      \r\n  }\r\n  render() \r\n  \r\n  {\r\n    return (\r\n     \r\n        <div style = {{backgroundColor: 'rgba(38, 37, 37, 0.5)', opacity : '1', display : this.props.confirm.confirm.display}} id=\"myModal\" class=\"modal fade\">\r\n        <div class=\"modal-dialog modal-confirm\">\r\n            <div style = {{marginTop : '50%'}} class=\"modal-content\">\r\n                <div class=\"modal-header flex-column\">\r\n                    <div class=\"icon-box\">\r\n                        <i class={this.props.confirm.confirm.icon}></i>\r\n                    </div>\t\t\t\t\t\t\r\n                    <h4 class=\"modal-title w-100\">{this.props.confirm.confirm.title}</h4>\t\r\n                    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">&times;</button>\r\n                </div>\r\n                <div class=\"modal-body\">\r\n                    <p>\r\n                    {this.props.confirm.confirm.content}\r\n                        </p>\r\n                    </div>\r\n                <div class=\"modal-footer justify-content-center\">\r\n                    <button onClick = {()=>{\r\n                     \r\n                     \r\n                    var newProps = {...this.props.confirm.confirm};\r\n                      newProps.display = 'none';\r\n\r\n                    this.props.confirmFunc({\r\n                    type : {\r\n                      confirm_pos : {\r\n                      type: 'CONFIRM_POS',\r\n                      data : newProps\r\n                    }\r\n                    }\r\n                  })\r\n                    }} \r\n                    type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">{this.props.confirm.confirm.btnLeft}</button>\r\n                   {this.btnPrint()}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div> \r\n       \r\n    );\r\n  }\r\n}\r\n\r\nconst  mapStateToProps = state =>{\r\n  \r\n\treturn{\r\n    confirm : state.pos,\r\n    user : state.user,\r\n\r\n\t}\r\n  };\r\n  \r\n  \r\n  const mapDispatchToProps = (dispatch, props) =>{\r\n\treturn {\r\n\t \r\n\t  delete_Menu : (data,list)=>{\r\n      dispatch(actionPos.deleteMenu(data,list))\r\n    },\r\n    confirmFunc : (action) =>{\r\n      dispatch(action)\r\n    },\r\n    insertBill : (data) =>{\r\n      dispatch(actionPos.insertBillrequest(data))\r\n  },\r\n    payment : (data) =>{\r\n      dispatch(actionPos.paymentPosRequest(data))\r\n    },\r\n    fea_payment : (action) =>{\r\n      dispatch(action)\r\n    }\r\n\t}\r\n  }\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Confirm);"]},"metadata":{},"sourceType":"module"}