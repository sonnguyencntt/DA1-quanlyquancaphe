{"ast":null,"code":"import * as Types from './../constants/ActionType';\nimport callApi, * as middleware from './../ultis/apiCaller';\nimport * as export_Data from './exportdata';\nimport * as Feature from './../actions/pos/feature';\nexport const fetchAreaONrequest = () => {\n  return (next, getstate, extra) => {\n    callApi('pos/getarea', 'get', null).then(res => {\n      if (res == false) {\n        return;\n      }\n\n      console.log(res);\n      next({\n        type: {\n          get_list_area: {\n            type: 'GET_LIST_AREAS',\n            data: res.data.area\n          },\n          get_list_table: {\n            type: 'GET_LIST_TABLES',\n            data: res.data.table\n          }\n        }\n      });\n    });\n  };\n};\nexport const fetchTableforSelectONrequest = data => {\n  return (next, getstate, extra) => {\n    callApi('pos/gettableforselect', 'post', data).then(res => {\n      if (res == false) {\n        return;\n      }\n\n      console.log(res);\n      next({\n        type: {\n          get_list_table: {\n            type: 'GET_LIST_TABLES',\n            data: res.data.table\n          }\n        }\n      });\n    });\n  };\n};\nexport const fetchCateONrequest = () => {\n  return (next, getstate, extra) => {\n    callApi('pos/getcate', 'get', null).then(res => {\n      if (res == false) {\n        return;\n      }\n\n      console.log(res);\n      next({\n        type: {\n          get_list_cate: {\n            type: 'GET_LIST_CATES',\n            data: res.data.cate\n          },\n          get_list_menu: {\n            type: 'GET_LIST_MENU',\n            data: res.data.menu\n          }\n        }\n      });\n    });\n  };\n};\nexport const fetchMenuforSelectONrequest = data => {\n  return (next, getstate, extra) => {\n    callApi('pos/getmenuforselect', 'post', data).then(res => {\n      if (res == false) {\n        return;\n      }\n\n      console.log(res);\n      next({\n        type: {\n          get_list_menu: {\n            type: 'GET_LIST_MENU',\n            data: res.data.menu\n          }\n        }\n      });\n    });\n  };\n};\nexport const searchForMenuOnRequest = data => {\n  return (next, getstate, extra) => {\n    callApi('pos/searchmenu', 'post', data).then(res => {\n      if (res == false) {\n        return;\n      }\n\n      console.log(res);\n      next({\n        type: {\n          get_list_forsearchMenu: {\n            type: 'GET_LIST_FEATURE_SEARCH_MENU',\n            data: res.data.menu\n          }\n        }\n      });\n    });\n  };\n};\nexport const acSearchCustomerPos = data => {\n  return (next, getstate, extra) => {\n    callApi('pos/getcustomer', 'post', data).then(res => {\n      if (res == false) {\n        return;\n      }\n\n      console.log(res);\n      next({\n        type: {\n          search_customer_pos: {\n            type: 'SEARCH_CUSTOMER_POS',\n            data: res.data.customers\n          }\n        }\n      });\n    });\n  };\n};\nexport const fetchAlldataofPos = data => {\n  return (next, getstate, extra) => {\n    callApi('pos/getlistbilldetail', 'post', data).then(res => {\n      if (res == false) {\n        return;\n      }\n\n      var customer = [...res.data.customer];\n\n      if (typeof res.data.customer[0] == 'undefined') {\n        customer[0] = {};\n      }\n\n      next({\n        type: {\n          show_customer_pos: {\n            type: 'SHOW_CUSTOMER_POS',\n            data: customer[0]\n          },\n          feature_appendmenu: {\n            type: 'FEATURE_APPENDMENU',\n            data: res.data.menu\n          },\n          payment_total: {\n            type: 'PAYMENT_TOTAL',\n            data: res.data.totalprice[0].TotalPrice\n          },\n          show_table_pos: {\n            type: 'SHOW_TABLE_POS',\n            data: res.data.table[0]\n          },\n          guest_money: {\n            type: 'GUEST_MONEY',\n            data: 0\n          },\n          extra_money: {\n            type: 'EXTRA_MONEY',\n            data: 0 - Number(res.data.totalprice[0].TotalPrice)\n          },\n          tab_pos_controll: {\n            type: 'TAB_POS_CONTROLL',\n            data: 'menu'\n          },\n          idbill_default_pos: {\n            type: 'IDBILL_POS_DEFAULT',\n            data: res.data.idbill_default\n          },\n          tabbackgroundM_pos_controll: {\n            type: 'TABBACKGROUND_M_POS_CONTROLL',\n            data: {\n              backgroundColor: '#eb9898'\n            }\n          },\n          tabbackgroundT_pos_controll: {\n            type: 'TABBACKGROUND_T_POS_CONTROLL',\n            data: {\n              backgroundColor: ''\n            }\n          }\n        }\n      });\n    });\n  };\n};\nexport const insertBillrequest = data => {\n  return (next, getstate, extra) => {\n    callApi('pos/insertpos', 'post', data).then(res => {\n      if (res == false) {\n        return;\n      } else {\n        if (res.data.status = 'success') {\n          var style_menu = {\n            backgroundColor: ''\n          };\n          var style_table = {\n            backgroundColor: '#eb9898'\n          };\n          var newProps = data.confirm;\n          ;\n          newProps.display = 'none';\n          next({\n            type: {\n              tab_pos_controll: {\n                type: 'TAB_POS_CONTROLL',\n                data: 'table'\n              },\n              tabbackgroundM_pos_controll: {\n                type: 'TABBACKGROUND_M_POS_CONTROLL',\n                data: style_menu\n              },\n              tabbackgroundT_pos_controll: {\n                type: 'TABBACKGROUND_T_POS_CONTROLL',\n                data: style_table\n              },\n              confirm_pos: {\n                type: 'CONFIRM_POS',\n                data: newProps\n              }\n            }\n          });\n        } else {}\n      }\n\n      console.log(res); //   next({type : {\n      //       get_list_table : {\n      //         type : 'GET_LIST_TABLES',\n      //         data : res.data.table\n      //       }\n      //   }});\n    });\n  };\n};\nexport const deleteMenu = (data, list) => {\n  return (next, getstate, extra) => {\n    callApi('pos/deletemenuofpos', 'post', {\n      data: data.data\n    }).then(res => {\n      if (res == false) {\n        return;\n      }\n\n      console.log(res);\n\n      if (typeof res.data.err == \"undefined\") {\n        var newValue = Feature.deleteMenu(data.data, list);\n        var newProps = { ...data\n        };\n        newProps.display = 'none';\n        newProps.data = null;\n        next({\n          type: {\n            feature_appendmenu: {\n              type: 'FEATURE_APPENDMENU',\n              data: newValue\n            },\n            confirm_pos: {\n              type: 'CONFIRM_POS',\n              data: newProps\n            }\n          }\n        });\n      }\n    });\n  };\n};\nexport const getUser = () => {\n  return (next, getstate, extra) => {\n    callApi('pos/getuser', 'get', null).then(res => {\n      console.log(res);\n\n      if (res == false) {\n        return;\n      }\n\n      next({\n        type: {\n          get_idUser: {\n            type: 'GET_ID_USER',\n            data: res.data.user\n          }\n        }\n      });\n    });\n  };\n};","map":{"version":3,"sources":["C:/Users/DELL/Desktop/DOAN1/src/actions/pos.js"],"names":["Types","callApi","middleware","export_Data","Feature","fetchAreaONrequest","next","getstate","extra","then","res","console","log","type","get_list_area","data","area","get_list_table","table","fetchTableforSelectONrequest","fetchCateONrequest","get_list_cate","cate","get_list_menu","menu","fetchMenuforSelectONrequest","searchForMenuOnRequest","get_list_forsearchMenu","acSearchCustomerPos","search_customer_pos","customers","fetchAlldataofPos","customer","show_customer_pos","feature_appendmenu","payment_total","totalprice","TotalPrice","show_table_pos","guest_money","extra_money","Number","tab_pos_controll","idbill_default_pos","idbill_default","tabbackgroundM_pos_controll","backgroundColor","tabbackgroundT_pos_controll","insertBillrequest","status","style_menu","style_table","newProps","confirm","display","confirm_pos","deleteMenu","list","err","newValue","getUser","get_idUser","user"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,2BAAvB;AACA,OAAOC,OAAP,EAAiB,KAAKC,UAAtB,MAAsC,sBAAtC;AACA,OAAO,KAAKC,WAAZ,MAA6B,cAA7B;AACA,OAAO,KAAKC,OAAZ,MAAyB,0BAAzB;AAEA,OAAO,MAAMC,kBAAkB,GAAG,MAAM;AAEpC,SAAO,CAACC,IAAD,EAAOC,QAAP,EAAiBC,KAAjB,KAA0B;AAE7BP,IAAAA,OAAO,CAAC,aAAD,EAAgB,KAAhB,EAAuB,IAAvB,CAAP,CAAoCQ,IAApC,CAAyCC,GAAG,IAAG;AAC5C,UAAGA,GAAG,IAAI,KAAV,EACA;AACI;AACH;;AACFC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAJ,MAAAA,IAAI,CAAC;AAACO,QAAAA,IAAI,EAAG;AACXC,UAAAA,aAAa,EAAE;AACTD,YAAAA,IAAI,EAAG,gBADE;AAETE,YAAAA,IAAI,EAAGL,GAAG,CAACK,IAAJ,CAASC;AAFP,WADJ;AAKTC,UAAAA,cAAc,EAAG;AACfJ,YAAAA,IAAI,EAAG,iBADQ;AAEfE,YAAAA,IAAI,EAAGL,GAAG,CAACK,IAAJ,CAASG;AAFD;AALR;AAAR,OAAD,CAAJ;AAUF,KAhBA;AAkBJ,GApBA;AAqBH,CAvBM;AAyBP,OAAO,MAAMC,4BAA4B,GAAIJ,IAAD,IAAU;AAElD,SAAO,CAACT,IAAD,EAAOC,QAAP,EAAiBC,KAAjB,KAA0B;AAE7BP,IAAAA,OAAO,CAAC,uBAAD,EAA0B,MAA1B,EAAiCc,IAAjC,CAAP,CAA+CN,IAA/C,CAAoDC,GAAG,IAAG;AACvD,UAAGA,GAAG,IAAI,KAAV,EACA;AACI;AACH;;AACFC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAJ,MAAAA,IAAI,CAAC;AAACO,QAAAA,IAAI,EAAG;AAETI,UAAAA,cAAc,EAAG;AACfJ,YAAAA,IAAI,EAAG,iBADQ;AAEfE,YAAAA,IAAI,EAAGL,GAAG,CAACK,IAAJ,CAASG;AAFD;AAFR;AAAR,OAAD,CAAJ;AAOF,KAbA;AAeJ,GAjBA;AAkBH,CApBM;AAqBP,OAAO,MAAME,kBAAkB,GAAG,MAAM;AAEpC,SAAO,CAACd,IAAD,EAAOC,QAAP,EAAiBC,KAAjB,KAA0B;AAE7BP,IAAAA,OAAO,CAAC,aAAD,EAAgB,KAAhB,EAAuB,IAAvB,CAAP,CAAoCQ,IAApC,CAAyCC,GAAG,IAAG;AAC5C,UAAGA,GAAG,IAAI,KAAV,EACA;AACI;AACH;;AACFC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAJ,MAAAA,IAAI,CAAC;AAACO,QAAAA,IAAI,EAAG;AACXQ,UAAAA,aAAa,EAAE;AACTR,YAAAA,IAAI,EAAG,gBADE;AAETE,YAAAA,IAAI,EAAGL,GAAG,CAACK,IAAJ,CAASO;AAFP,WADJ;AAKTC,UAAAA,aAAa,EAAG;AACdV,YAAAA,IAAI,EAAG,eADO;AAEdE,YAAAA,IAAI,EAAGL,GAAG,CAACK,IAAJ,CAASS;AAFF;AALP;AAAR,OAAD,CAAJ;AAUF,KAhBA;AAkBJ,GApBA;AAqBH,CAvBM;AAwBP,OAAO,MAAMC,2BAA2B,GAAIV,IAAD,IAAU;AAEjD,SAAO,CAACT,IAAD,EAAOC,QAAP,EAAiBC,KAAjB,KAA0B;AAE7BP,IAAAA,OAAO,CAAC,sBAAD,EAAyB,MAAzB,EAAgCc,IAAhC,CAAP,CAA8CN,IAA9C,CAAmDC,GAAG,IAAG;AACtD,UAAGA,GAAG,IAAI,KAAV,EACA;AACI;AACH;;AACFC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAJ,MAAAA,IAAI,CAAC;AAACO,QAAAA,IAAI,EAAG;AAETU,UAAAA,aAAa,EAAG;AACdV,YAAAA,IAAI,EAAG,eADO;AAEdE,YAAAA,IAAI,EAAGL,GAAG,CAACK,IAAJ,CAASS;AAFF;AAFP;AAAR,OAAD,CAAJ;AAOF,KAbA;AAeJ,GAjBA;AAkBH,CApBM;AAqBP,OAAO,MAAME,sBAAsB,GAAIX,IAAD,IAAU;AAE5C,SAAO,CAACT,IAAD,EAAOC,QAAP,EAAiBC,KAAjB,KAA0B;AAE7BP,IAAAA,OAAO,CAAC,gBAAD,EAAmB,MAAnB,EAA0Bc,IAA1B,CAAP,CAAwCN,IAAxC,CAA6CC,GAAG,IAAG;AAChD,UAAGA,GAAG,IAAI,KAAV,EACA;AACI;AACH;;AACFC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAJ,MAAAA,IAAI,CAAC;AAACO,QAAAA,IAAI,EAAG;AAEXc,UAAAA,sBAAsB,EAAG;AACrBd,YAAAA,IAAI,EAAG,8BADc;AAErBE,YAAAA,IAAI,EAAGL,GAAG,CAACK,IAAJ,CAASS;AAFK;AAFd;AAAR,OAAD,CAAJ;AAOF,KAbA;AAeJ,GAjBA;AAkBH,CApBM;AAqBP,OAAO,MAAMI,mBAAmB,GAAIb,IAAD,IAAU;AAEzC,SAAO,CAACT,IAAD,EAAOC,QAAP,EAAiBC,KAAjB,KAA0B;AAE7BP,IAAAA,OAAO,CAAC,iBAAD,EAAoB,MAApB,EAA2Bc,IAA3B,CAAP,CAAyCN,IAAzC,CAA8CC,GAAG,IAAG;AACjD,UAAGA,GAAG,IAAI,KAAV,EACA;AACI;AACH;;AACFC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAJ,MAAAA,IAAI,CAAC;AAACO,QAAAA,IAAI,EAAG;AAEXgB,UAAAA,mBAAmB,EAAG;AAClBhB,YAAAA,IAAI,EAAG,qBADW;AAElBE,YAAAA,IAAI,EAAGL,GAAG,CAACK,IAAJ,CAASe;AAFE;AAFX;AAAR,OAAD,CAAJ;AAOF,KAbA;AAeJ,GAjBA;AAkBH,CApBM;AAqBP,OAAO,MAAMC,iBAAiB,GAAIhB,IAAD,IAAU;AAEvC,SAAO,CAACT,IAAD,EAAOC,QAAP,EAAiBC,KAAjB,KAA0B;AAE7BP,IAAAA,OAAO,CAAC,uBAAD,EAA0B,MAA1B,EAAiCc,IAAjC,CAAP,CAA+CN,IAA/C,CAAoDC,GAAG,IAAG;AACvD,UAAGA,GAAG,IAAI,KAAV,EACA;AACI;AACH;;AACD,UAAIsB,QAAQ,GAAG,CAAC,GAAGtB,GAAG,CAACK,IAAJ,CAASiB,QAAb,CAAf;;AACD,UAAG,OAAOtB,GAAG,CAACK,IAAJ,CAASiB,QAAT,CAAkB,CAAlB,CAAP,IAA+B,WAAlC,EACA;AACEA,QAAAA,QAAQ,CAAC,CAAD,CAAR,GAAc,EAAd;AACD;;AAED1B,MAAAA,IAAI,CAAC;AAACO,QAAAA,IAAI,EAAG;AAEXoB,UAAAA,iBAAiB,EAAG;AAChBpB,YAAAA,IAAI,EAAG,mBADS;AAEhBE,YAAAA,IAAI,EAAGiB,QAAQ,CAAC,CAAD;AAFC,WAFT;AAMTE,UAAAA,kBAAkB,EAAG;AACjBrB,YAAAA,IAAI,EAAG,oBADU;AAEjBE,YAAAA,IAAI,EAAIL,GAAG,CAACK,IAAJ,CAASS;AAFA,WANZ;AAUTW,UAAAA,aAAa,EAAG;AACdtB,YAAAA,IAAI,EAAG,eADO;AAEdE,YAAAA,IAAI,EAAIL,GAAG,CAACK,IAAJ,CAASqB,UAAT,CAAoB,CAApB,EAAuBC;AAFjB,WAVP;AAcTC,UAAAA,cAAc,EAAG;AACbzB,YAAAA,IAAI,EAAG,gBADM;AAEbE,YAAAA,IAAI,EAAGL,GAAG,CAACK,IAAJ,CAASG,KAAT,CAAe,CAAf;AAFM,WAdR;AAkBTqB,UAAAA,WAAW,EAAG;AACZ1B,YAAAA,IAAI,EAAG,aADK;AAEZE,YAAAA,IAAI,EAAG;AAFK,WAlBL;AAsBTyB,UAAAA,WAAW,EAAG;AACZ3B,YAAAA,IAAI,EAAG,aADK;AAEZE,YAAAA,IAAI,EAAG,IAAI0B,MAAM,CAAC/B,GAAG,CAACK,IAAJ,CAASqB,UAAT,CAAoB,CAApB,EAAuBC,UAAxB;AAFL,WAtBL;AA0BTK,UAAAA,gBAAgB,EAAG;AACjB7B,YAAAA,IAAI,EAAG,kBADU;AAEjBE,YAAAA,IAAI,EAAG;AAFU,WA1BV;AA8BP4B,UAAAA,kBAAkB,EAAG;AACjB9B,YAAAA,IAAI,EAAG,oBADU;AAEjBE,YAAAA,IAAI,EAAEL,GAAG,CAACK,IAAJ,CAAS6B;AAFE,WA9Bd;AAkCXC,UAAAA,2BAA2B,EAAG;AACtBhC,YAAAA,IAAI,EAAG,8BADe;AAE1BE,YAAAA,IAAI,EAAG;AACH+B,cAAAA,eAAe,EAAE;AADd;AAFmB,WAlCnB;AAwCLC,UAAAA,2BAA2B,EAAG;AAC5BlC,YAAAA,IAAI,EAAG,8BADqB;AAEhCE,YAAAA,IAAI,EAAG;AACH+B,cAAAA,eAAe,EAAG;AADf;AAFyB;AAxCzB;AAAR,OAAD,CAAJ;AAkDF,KA7DA;AA+DJ,GAjEA;AAkEH,CApEM;AAqEP,OAAO,MAAME,iBAAiB,GAAIjC,IAAD,IAAU;AAEvC,SAAO,CAACT,IAAD,EAAOC,QAAP,EAAiBC,KAAjB,KAA0B;AAE7BP,IAAAA,OAAO,CAAC,eAAD,EAAkB,MAAlB,EAAyBc,IAAzB,CAAP,CAAuCN,IAAvC,CAA4CC,GAAG,IAAG;AAC/C,UAAGA,GAAG,IAAI,KAAV,EACA;AACI;AACH,OAHD,MAKA;AACI,YAAGA,GAAG,CAACK,IAAJ,CAASkC,MAAT,GAAkB,SAArB,EACA;AACC,cAAIC,UAAU,GAAG;AACbJ,YAAAA,eAAe,EAAE;AADJ,WAAjB;AAGG,cAAIK,WAAW,GAAG;AACjBL,YAAAA,eAAe,EAAG;AADD,WAAlB;AAGA,cAAIM,QAAQ,GAAGrC,IAAI,CAACsC,OAApB;AAA4B;AAC5BD,UAAAA,QAAQ,CAACE,OAAT,GAAmB,MAAnB;AAGfhD,UAAAA,IAAI,CAAC;AACHO,YAAAA,IAAI,EAAG;AACL6B,cAAAA,gBAAgB,EAAG;AACf7B,gBAAAA,IAAI,EAAG,kBADQ;AAEfE,gBAAAA,IAAI,EAAG;AAFQ,eADd;AAKC8B,cAAAA,2BAA2B,EAAG;AAC5BhC,gBAAAA,IAAI,EAAG,8BADqB;AAEhCE,gBAAAA,IAAI,EAAGmC;AAFyB,eAL/B;AASCH,cAAAA,2BAA2B,EAAG;AAC5BlC,gBAAAA,IAAI,EAAG,8BADqB;AAEhCE,gBAAAA,IAAI,EAAGoC;AAFyB,eAT/B;AAaCI,cAAAA,WAAW,EAAG;AACZ1C,gBAAAA,IAAI,EAAE,aADM;AAEZE,gBAAAA,IAAI,EAAGqC;AAFK;AAbf;AADJ,WAAD,CAAJ;AAoBY,SAhCD,MAkCA,CAEC;AACJ;;AACFzC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,EA7CgD,CA8ClD;AAEA;AACA;AACA;AACA;AACA;AACA,KArDA;AAuDJ,GAzDA;AA0DH,CA5DM;AA6DP,OAAO,MAAM8C,UAAU,GAAG,CAACzC,IAAD,EAAO0C,IAAP,KAAgB;AAEtC,SAAO,CAACnD,IAAD,EAAOC,QAAP,EAAiBC,KAAjB,KAA0B;AAE7BP,IAAAA,OAAO,CAAC,qBAAD,EAAwB,MAAxB,EAA+B;AAACc,MAAAA,IAAI,EAAGA,IAAI,CAACA;AAAb,KAA/B,CAAP,CAA2DN,IAA3D,CAAgEC,GAAG,IAAG;AACnE,UAAGA,GAAG,IAAI,KAAV,EACA;AACI;AACH;;AACFC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;;AACA,UAAG,OAAOA,GAAG,CAACK,IAAJ,CAAS2C,GAAhB,IAAuB,WAA1B,EACA;AACE,YAAIC,QAAQ,GAAGvD,OAAO,CAACoD,UAAR,CAAmBzC,IAAI,CAACA,IAAxB,EAAgC0C,IAAhC,CAAf;AACA,YAAIL,QAAQ,GAAG,EAAC,GAAGrC;AAAJ,SAAf;AACAqC,QAAAA,QAAQ,CAACE,OAAT,GAAmB,MAAnB;AACAF,QAAAA,QAAQ,CAACrC,IAAT,GAAgB,IAAhB;AACAT,QAAAA,IAAI,CAAC;AACDO,UAAAA,IAAI,EAAG;AAEHqB,YAAAA,kBAAkB,EAAG;AACjBrB,cAAAA,IAAI,EAAG,oBADU;AAEjBE,cAAAA,IAAI,EAAG4C;AAFU,aAFlB;AAMDJ,YAAAA,WAAW,EAAG;AACZ1C,cAAAA,IAAI,EAAE,aADM;AAEZE,cAAAA,IAAI,EAAGqC;AAFK;AANb;AADN,SAAD,CAAJ;AAcD;AAEH,KA5BA;AA8BJ,GAhCA;AAiCH,CAnCM;AAoCP,OAAO,MAAMQ,OAAO,GAAG,MAAM;AAEzB,SAAO,CAACtD,IAAD,EAAOC,QAAP,EAAiBC,KAAjB,KAA0B;AAE7BP,IAAAA,OAAO,CAAC,aAAD,EAAgB,KAAhB,EAAsB,IAAtB,CAAP,CAAoCQ,IAApC,CAAyCC,GAAG,IAAG;AAC3CC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;;AACD,UAAGA,GAAG,IAAI,KAAV,EACA;AACI;AACH;;AACFJ,MAAAA,IAAI,CAAC;AAACO,QAAAA,IAAI,EAAG;AAEXgD,UAAAA,UAAU,EAAG;AACThD,YAAAA,IAAI,EAAG,aADE;AAETE,YAAAA,IAAI,EAAGL,GAAG,CAACK,IAAJ,CAAS+C;AAFP;AAFF;AAAR,OAAD,CAAJ;AAOF,KAbA;AAeJ,GAjBA;AAkBH,CApBM","sourcesContent":["import * as Types from './../constants/ActionType';\r\nimport callApi,  * as middleware from './../ultis/apiCaller';\r\nimport * as export_Data from './exportdata';\r\nimport * as Feature from './../actions/pos/feature'\r\n\r\nexport const fetchAreaONrequest = () => {\r\n   \r\n    return (next, getstate, extra) =>{\r\n\r\n        callApi('pos/getarea', 'get', null).then(res =>{\r\n           if(res == false)\r\n           {\r\n               return;\r\n           }\r\n          console.log(res);\r\n          next({type : {\r\n            get_list_area :{\r\n                  type : 'GET_LIST_AREAS',\r\n                  data : res.data.area\r\n              },\r\n              get_list_table : {\r\n                type : 'GET_LIST_TABLES',\r\n                data : res.data.table\r\n              }\r\n          }});\r\n       });\r\n\r\n   };\r\n}\r\n\r\nexport const fetchTableforSelectONrequest = (data) => {\r\n   \r\n    return (next, getstate, extra) =>{\r\n\r\n        callApi('pos/gettableforselect', 'post',data ).then(res =>{\r\n           if(res == false)\r\n           {\r\n               return;\r\n           }\r\n          console.log(res);\r\n          next({type : {\r\n           \r\n              get_list_table : {\r\n                type : 'GET_LIST_TABLES',\r\n                data : res.data.table\r\n              }\r\n          }});\r\n       });\r\n\r\n   };\r\n}\r\nexport const fetchCateONrequest = () => {\r\n   \r\n    return (next, getstate, extra) =>{\r\n\r\n        callApi('pos/getcate', 'get', null).then(res =>{\r\n           if(res == false)\r\n           {\r\n               return;\r\n           }\r\n          console.log(res);\r\n          next({type : {\r\n            get_list_cate :{\r\n                  type : 'GET_LIST_CATES',\r\n                  data : res.data.cate\r\n              },\r\n              get_list_menu : {\r\n                type : 'GET_LIST_MENU',\r\n                data : res.data.menu\r\n              }\r\n          }});\r\n       });\r\n\r\n   };\r\n}\r\nexport const fetchMenuforSelectONrequest = (data) => {\r\n   \r\n    return (next, getstate, extra) =>{\r\n\r\n        callApi('pos/getmenuforselect', 'post',data ).then(res =>{\r\n           if(res == false)\r\n           {\r\n               return;\r\n           }\r\n          console.log(res);\r\n          next({type : {\r\n           \r\n              get_list_menu : {\r\n                type : 'GET_LIST_MENU',\r\n                data : res.data.menu\r\n              }\r\n          }});\r\n       });\r\n\r\n   };\r\n}\r\nexport const searchForMenuOnRequest = (data) => {\r\n   \r\n    return (next, getstate, extra) =>{\r\n\r\n        callApi('pos/searchmenu', 'post',data ).then(res =>{\r\n           if(res == false)\r\n           {\r\n               return;\r\n           }\r\n          console.log(res);\r\n          next({type : {\r\n           \r\n            get_list_forsearchMenu : {\r\n                type : 'GET_LIST_FEATURE_SEARCH_MENU',\r\n                data : res.data.menu\r\n              }\r\n          }});\r\n       });\r\n\r\n   };\r\n}\r\nexport const acSearchCustomerPos = (data) => {\r\n   \r\n    return (next, getstate, extra) =>{\r\n\r\n        callApi('pos/getcustomer', 'post',data ).then(res =>{\r\n           if(res == false)\r\n           {\r\n               return;\r\n           }\r\n          console.log(res);\r\n          next({type : {\r\n           \r\n            search_customer_pos : {\r\n                type : 'SEARCH_CUSTOMER_POS',\r\n                data : res.data.customers\r\n              }\r\n          }});\r\n       });\r\n\r\n   };\r\n}\r\nexport const fetchAlldataofPos = (data) => {\r\n   \r\n    return (next, getstate, extra) =>{\r\n\r\n        callApi('pos/getlistbilldetail', 'post',data ).then(res =>{\r\n           if(res == false)\r\n           {\r\n               return;\r\n           }\r\n           var customer = [...res.data.customer];\r\n          if(typeof res.data.customer[0] == 'undefined')\r\n          {\r\n            customer[0] = {};\r\n          }\r\n          \r\n          next({type : {\r\n           \r\n            show_customer_pos : {\r\n                type : 'SHOW_CUSTOMER_POS',\r\n                data : customer[0],\r\n              },\r\n              feature_appendmenu : {\r\n                  type : 'FEATURE_APPENDMENU',\r\n                  data :  res.data.menu\r\n              },\r\n              payment_total : {\r\n                type : 'PAYMENT_TOTAL',\r\n                data :  res.data.totalprice[0].TotalPrice\r\n              },\r\n              show_table_pos : {\r\n                  type : 'SHOW_TABLE_POS',\r\n                  data : res.data.table[0]\r\n              },\r\n              guest_money : {\r\n                type : 'GUEST_MONEY',\r\n                data : 0\r\n              },\r\n              extra_money : {\r\n                type : 'EXTRA_MONEY',\r\n                data : 0 - Number(res.data.totalprice[0].TotalPrice)\r\n              },\r\n              tab_pos_controll : {\r\n                type : 'TAB_POS_CONTROLL',\r\n                data : 'menu',\r\n                }, \r\n                idbill_default_pos : {\r\n                    type : 'IDBILL_POS_DEFAULT',\r\n                    data :res.data.idbill_default\r\n                },\r\n            tabbackgroundM_pos_controll : {\r\n                    type : 'TABBACKGROUND_M_POS_CONTROLL',\r\n                data : {\r\n                    backgroundColor :'#eb9898'\r\n                   },\r\n                  },\r\n                  tabbackgroundT_pos_controll : {\r\n                    type : 'TABBACKGROUND_T_POS_CONTROLL',\r\n                data : {\r\n                    backgroundColor : ''\r\n                   },\r\n                  }\r\n\r\n\r\n\r\n          }});\r\n       });\r\n\r\n   };\r\n}\r\nexport const insertBillrequest = (data) => {\r\n   \r\n    return (next, getstate, extra) =>{\r\n\r\n        callApi('pos/insertpos', 'post',data ).then(res =>{\r\n           if(res == false)\r\n           {\r\n               return;\r\n           }\r\n           else\r\n           {\r\n               if(res.data.status = 'success')\r\n               {\r\n                var style_menu = {\r\n                    backgroundColor :''\r\n                   }\r\n                   var style_table = {\r\n                    backgroundColor : '#eb9898'\r\n                   }\r\n                   var newProps = data.confirm;;\r\n                   newProps.display = 'none';\r\n\r\n                 \r\n    next({\r\n      type : {\r\n        tab_pos_controll : {\r\n            type : 'TAB_POS_CONTROLL',\r\n            data : 'table',\r\n              }, \r\n              tabbackgroundM_pos_controll : {\r\n                type : 'TABBACKGROUND_M_POS_CONTROLL',\r\n            data : style_menu,\r\n              },\r\n              tabbackgroundT_pos_controll : {\r\n                type : 'TABBACKGROUND_T_POS_CONTROLL',\r\n            data : style_table,\r\n              },\r\n              confirm_pos : {\r\n                type: 'CONFIRM_POS',\r\n                data : newProps\r\n              }\r\n            }\r\n    })\r\n               }\r\n               else\r\n               {\r\n\r\n               }\r\n           }\r\n          console.log(res);\r\n        //   next({type : {\r\n           \r\n        //       get_list_table : {\r\n        //         type : 'GET_LIST_TABLES',\r\n        //         data : res.data.table\r\n        //       }\r\n        //   }});\r\n       });\r\n\r\n   };\r\n}\r\nexport const deleteMenu = (data, list) => {\r\n   \r\n    return (next, getstate, extra) =>{\r\n\r\n        callApi('pos/deletemenuofpos', 'post',{data : data.data} ).then(res =>{\r\n           if(res == false)\r\n           {\r\n               return;\r\n           }\r\n          console.log(res);\r\n          if(typeof res.data.err == \"undefined\")\r\n          {\r\n            var newValue = Feature.deleteMenu(data.data ,  list);\r\n            var newProps = {...data};\r\n            newProps.display = 'none';\r\n            newProps.data = null;\r\n            next({\r\n                type : {\r\n                   \r\n                    feature_appendmenu : {\r\n                        type : 'FEATURE_APPENDMENU',\r\n                        data : newValue\r\n                      },\r\n                      confirm_pos : {\r\n                        type: 'CONFIRM_POS',\r\n                        data : newProps\r\n                      }\r\n                  }\r\n    \r\n              });\r\n          }\r\n         \r\n       });\r\n\r\n   };\r\n}\r\nexport const getUser = () => {\r\n   \r\n    return (next, getstate, extra) =>{\r\n\r\n        callApi('pos/getuser', 'get',null ).then(res =>{\r\n            console.log(res);\r\n           if(res == false)\r\n           {\r\n               return;\r\n           }\r\n          next({type : {\r\n           \r\n            get_idUser : {\r\n                type : 'GET_ID_USER',\r\n                data : res.data.user\r\n              }\r\n          }});\r\n       });\r\n\r\n   };\r\n}"]},"metadata":{},"sourceType":"module"}